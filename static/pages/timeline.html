
<!-- Header -->
<header id="timeline-header">
  <span class="title">{{timelineName}}</span>
  <span style="position: relative; float: right">
  <span id="timeline-show" class="showFormSpan fa fa-bars fa-2x" @click="showMenu()"></span> </span>
</header>

<!-- Timeline -->
<div id="timeline-embed" style="height: 600px;"></div>

<div class="panel" id="navPanel">
  <div class="tooltip fa fa-times fa-2x" id="close" @click="hideMenu()">
  </div>
  <div class="section" style="height:435px">
    <div class="timeline-menu-token tooltip fa fa-times fa-2x" style="visibility:hidden">
      <!-- Todo -->
    </div>
    <div class="timeline-menu-token tooltip" @mouseover="loadURLs()">
      <img src="/images/share.svg">
      <div class="tooltipcontent">
	<div id="editionLink">
	  {{editionLinkText}}
	  <div class="url" @click="copy(editionURL)">{{editionURL}}</div>
	</div>
	<div id="readLink">
	  {{readLinkText}}
	  <div class="url" @click="copy(readURL)">{{readURL}}</div>
	</div>
      </div>
    </div>
    <div class="timeline-menu-token tooltip">
      <img src="/images/upload.svg">
      <div class="tooltipcontent">
	<div>
	  Export <br/>
	  <div class="button" @click="exportTimeline()">csv</div>
	</div>
	<div>
	  Import <br/>
	  <div class="button" style="position:relative; line-height: 0px">
	    <input type="file" style="opacity: 0.0; width: 100%; height: 100%; position: absolute; right:0px; cursor: pointer" id="import-form" @change="importTimeline()">
	    csv
	  </div>
	</div>
      </div>
    </div>
    <div class="timeline-menu-token tooltip fa fa-times fa-2x" style="visibility:hidden">
      <!-- Todo -->
    </div>
  </div>
  <div class="section">
      <div class="timeline-menu-token tooltip fa fa-times fa-2x" style="visibility:hidden">
	<!-- Todo -->
      </div>
      <div class="timeline-menu-token tooltip" @click="showForm(true)">
      <img src="/images/add.svg">
      <div class="tooltipcontent">
	{{addEventButtonText}}
      </div>
    </div>
    <div
      class="timeline-menu-token tooltip fa fa-pencil fa-2x"
      @click="showForm(false)"
      v-show="events.length != 0"
      >
      <div class="tooltipcontent">
	{{updateEventButtonText}}
      </div>
    </div>
    <div
      class="timeline-menu-token tooltip"
      v-show="events.length != 0 && false">
      <img src="/images/filter.svg">
      <div class="tooltipcontent">
	Filtrer
      </div>
    </div>
  </div>
</div>

<div class="panel" id="formPanel">
  <h3 style="color: white">
    <span v-if="addingNewEvent">{{formNameAdding}}</span>
    <span v-else> {{formNameEditing}}</span>    
  </h3>
  <div class="row uniform">
    <div class="4u">
      {{startDateFormTitle}}<br/>
      <span class="verysmall">{{startDateFormHelp}}</span>
    </div>
    <div class="8u">
      <input
	id="start-date"
	class="placeholder"
	type="date"
	v-model="startDateFormValue">
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{endDateFormTitle}}<br/>
      <span class="verysmall">{{endDateFormHelp}}</span>
    </div>
    <div class="8u">
      <input
	id="end-date"
	type="date"
	v-model="endDateFormValue">
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{mediaFormTitle}}<br/>
      <span class="verysmall">{{mediaFormHelp}} <a href='https://timeline.knightlab.com/docs/media-types.html'>{{mediaLink}}</a></span>
    </div>
    <div class="8u">
      <input
	id="media"
	type="text"
	v-model="mediaFormValue"
	>
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{headlineFormTitle}}<br/>
      <span class="verysmall">{{headlineFormHelp}}</span>
    </div>
    <div class="8u">
      <input
	id="title"
	type="text"
	v-model="headlineFormValue"
	>
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{uniqueIdFormTitle}}<br/>
      <span class="verysmall">{{uniqueIdFormHelp}}</span>
    </div>
    <div class="8u">
      <input
	id="unique-id"
	type="text" 
	v-model="uniqueIdFormValue">
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{categoriesFormTitle}}<br/>
      <span class="verysmall">{{categoriesFormHelp}}</span>
    </div>
    <div class="8u">
      <cat-select
	v-for="categ in categories"
	:category="categ"
	:key="categ.id"
	></cat-select>
      <div class="row uniform">
	<input
	  type='radio'
	  v-model='categoriesFormValue'
	  id='other-category'
	  name='category-selection'
	  value='__other__category__'>
	<label for='other-category'> {{newCategory}} </label>
      </div>
      <input
	type="text"
	v-model="otherCategoryFormValue"
	v-show="categoriesFormValue=='__other__category__'">
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{textFormTitle}}<br/>
      <span class="verysmall">{{textFormHelp}}</span>
    </div>
    <div class="8u">
      <textarea
	id="text"
	style="resize: both;"
	v-model="textFormValue"
	>
      </textarea>
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{tagsFormTitle}}<br/>
      <span class="verysmall">{{tagsFormHelp}}</span>
    </div>
    <div class="8u">
      <input
	id="tags"
	type="text"
	v-model="tagsFormValue">
    </div>
  </div>
  <div class="row uniform">
    <div class="4u">
      {{ponderationFormTitle}}<br/>
      <span class="verysmall">{{ponderationFormHelp}}</span>
    </div>
    <div class="8u">
      <input
	min="0"
	id="ponderation"
	value="0"
	type="number"
	v-model.number="ponderationFormValue"	
	>
    </div>
  </div>
  <div class="row uniform">
    <label
      for="confid"
      class="4u"
      >
      <span style="cursor: pointer">
	{{confidentialFormTitle}}<br/>
	<span class="verysmall">{{confidentialFormHelp}}</span>
      </span>
    </label>
    <input
      id="confid"
      type="checkbox"
      v-model="confidentialFormValue"
      class="8u"
      >
  </div>
  <div
    class="button special"
    id="edit-add"
    @click=addEvent(addingNewEvent)>
    <span v-if="addingNewEvent">{{addEventButtonText}}</span>
    <span v-else>{{updateEventButtonText}}</span>
  </div>
  <div class="button special" id="back-from-edit" @click=hideForm()>{{backButton}}</div>
  <div class="button special" v-show="!addingNewEvent" @click=removeEvent()>{{removeButton}}</div>
  <span @click=hideForm() class="close"></span>
</div>
