OCPTimeline

# Install

0. You need a switch 4.07.0 (for ocp-build)

1. Install dependnecies:
   opam install \
   	ocp-build base64 lwt \
   	ocplib-json-typed \
   	js_of_ocaml \
	js_of_ocaml-tyxml \
	js_of_ocaml-ppx \
	yojson \
	calendar

2. Install
make init
make
make build

# Usage

## Transform data into JSON
Execute ./csv-parser 'data_file'.
The format is the following:

Title
Event#1
Event#2
...

with
Event#i =
   * Start year (integer)
   * Start month (integer)
   * End year (integer)
   * End month (integer)
   * Type (software, person, client)
   * Type 2 (custom string)
   * Level (integer)
   * Media
   * Title
   * Narration (optional)

This generates a data.json file compatible with the timeline js library

## Put data into database
Execute ./csv-parser 'data_file' --db.
This will put the data into the database.

If you wish to empty the database:
dropdb ocptl_db
make

# Locally start a website

cd www
php -S 127.0.0.1:8000 &
xdg-open http://127.0.0.1:8000

